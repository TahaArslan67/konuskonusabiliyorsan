{
  "version": 2,
  "builds": [
    { "src": "backend/src/server.js", "use": "@vercel/node" },
    { "src": "backend/public/**", "use": "@vercel/static" }
  ],
  "routes": [
    { "src": "/api/(.*)", "dest": "/backend/src/server.js" },
    { "src": "/(auth|me|usage|session|scenarios)(/.*)?", "dest": "/backend/src/server.js" },
    { "src": "/realtime/ephemeral", "dest": "/backend/src/server.js" },
    { "src": "/paytr/(.*)", "dest": "/backend/src/server.js" },
    { "src": "/admin/(.*)", "dest": "/backend/src/server.js" },
    { "src": "/contact", "dest": "/backend/public/contact.html" },
    { "src": "/konus", "dest": "/backend/public/realtime.html" },
    { "src": "/ocr", "dest": "/backend/public/ocr.html" },
    { "src": "/ekonomi", "dest": "/backend/public/economy.html" },
    { 
      "src": "/success.html", 
      "status": 301, 
      "headers": { "Location": "https://konuskonusabilirsen.com/konus" }
    },
    { 
      "src": "/ekonomi.html", 
      "status": 301, 
      "headers": { "Location": "/ekonomi" }
    },
    { "src": "/(.*)", "dest": "/backend/public/$1" }
  ]
}
